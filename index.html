<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Copart Bid Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      color: #000;
      padding: 20px;
      transition: background 0.3s, color 0.3s;
    }

    .container {
      max-width: 900px;
      margin: auto;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .box {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      transition: background 0.3s, color 0.3s;
    }

    h2 {
      margin-top: 0;
    }

    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }

    input {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
    }

    .result {
      margin-top: 15px;
      font-size: 18px;
      font-weight: bold;
    }

    .warning {
      color: red;
      font-weight: bold;
    }

    #colorToggle {
      position: absolute;
      top: 20px;
      left: 20px;
      background: #444;
      color: #fff;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      z-index: 1001;
    }

    #colorPanel {
      position: absolute;
      top: 60px;
      left: 20px;
      background: #eee;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.2);
      font-size: 14px;
      z-index: 1000;
      transition: max-height 0.3s ease, opacity 0.3s ease;
      overflow: hidden;
      max-height: 200px;
      opacity: 1;
    }

    #colorPanel.collapsed {
      max-height: 0;
      opacity: 0;
      padding: 0 10px;
      pointer-events: none;
    }

    #colorPanel label {
      display: block;
      margin-bottom: 8px;
    }

    @media (max-width: 768px) {
      .container {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

  <div id="colorToggle">ðŸŽ¨ Color Settings</div>
  <div id="colorPanel" class="collapsed">
    <label>Background: <input type="color" id="bgColor" /></label>
    <label>Text: <input type="color" id="textColor" /></label>
    <label>Border: <input type="color" id="borderColor" /></label>
  </div>

  <div class="container">
    <div class="box">
      <h2>Current Bid Calculator</h2>
      <label for="bid">Current Bid ($)</label>
      <input type="number" id="bid" />

      <label for="shipping">Shipping ($)</label>
      <input type="number" id="shipping" value="0" />

      <p>Title Fee ($): 50</p>
      <p>Gate Fee ($): 79</p>
      <p>Internet Bid Fee ($): 79</p>
      <p>Environmental Fee ($): 10</p>

      <p class="result">Buyer Fee: $<span id="buyerFee">0</span></p>
      <p class="result">Total Cost: $<span id="totalCost">0</span></p>
    </div>

    <div class="box">
      <h2>Max Bid Safety</h2>
      <label for="budget">Total Budget ($)</label>
      <input type="number" id="budget" />

      <p class="result">Max Safe Bid: $<span id="maxSafeBid">0</span></p>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const bidInput = document.getElementById('bid');
      const shippingInput = document.getElementById('shipping');
      const budgetInput = document.getElementById('budget');
      const buyerFeeDisplay = document.getElementById('buyerFee');
      const totalCostDisplay = document.getElementById('totalCost');
      const maxSafeBidDisplay = document.getElementById('maxSafeBid');

      function getBuyerFee(bid) {
        if (bid < 50) return 1;
        if (bid < 100) return 25;
        if (bid < 200) return 50;
        if (bid < 300) return 75;
        if (bid < 350) return 110;
        if (bid < 400) return 125;
        if (bid < 500) return 130;
        if (bid < 600) return 135;
        if (bid < 700) return 140;
        if (bid < 800) return 145;
        if (bid < 900) return 150;
        if (bid < 1000) return 155;
        if (bid < 1500) return 160;
        if (bid < 2000) return 200;
        if (bid < 4000) return 250;
        if (bid < 6000) return 350;
        if (bid < 8000) return 400;
        if (bid < 10000) return 450;
        if (bid < 15000) return 500;
        if (bid < 20000) return 600;
        if (bid < 25000) return 700;
        if (bid < 30000) return 800;
        if (bid < 40000) return 900;
        if (bid < 50000) return 1000;
        if (bid < 75000) return 1100;
        if (bid < 100000) return 1200;
        if (bid < 125000) return 1300;
        if (bid < 150000) return 1400;
        return 1500;
      }

      function calculateFees() {
        const bid = parseFloat(bidInput.value) || 0;
        const shipping = parseFloat(shippingInput.value) || 0;
        const titleFee = 50;
        const gateFee = 79;
        const internetFee = 79;
        const envFee = 10;

        const buyerFee = getBuyerFee(bid);
        const totalCost = bid + buyerFee + shipping + titleFee + gateFee + internetFee + envFee;

        buyerFeeDisplay.textContent = buyerFee;
        totalCostDisplay.textContent = totalCost;

        const budget = parseFloat(budgetInput.value) || 0;
        const maxSafeBid = budget - (buyerFee + shipping + titleFee + gateFee + internetFee + envFee);
        maxSafeBidDisplay.textContent = maxSafeBid > 0 ? Math.floor(maxSafeBid) : 0;
      }

      bidInput.addEventListener('input', calculateFees);
      shippingInput.addEventListener('input', calculateFees);
      budgetInput.addEventListener('input', calculateFees);

      calculateFees();
      // Color customization toggle
      const colorToggle = document.getElementById('colorToggle');
      const colorPanel = document.getElementById('colorPanel');

      colorToggle.addEventListener('click', () => {
        colorPanel.classList.toggle('collapsed');
      });

      const bgColorInput = document.getElementById('bgColor');
      const textColorInput = document.getElementById('textColor');
      const borderColorInput = document.getElementById('borderColor');

      function applyCustomColors() {
        document.body.style.backgroundColor = bgColorInput.value;
        document.body.style.color = textColorInput.value;

        const boxes = document.querySelectorAll('.box');
        boxes.forEach(box => {
          box.style.border = `1px solid ${borderColorInput.value}`;
          box.style.color = textColorInput.value;
        });

        const inputs = document.querySelectorAll('input');
        inputs.forEach(input => {
          input.style.color = textColorInput.value;
          input.style.borderColor = borderColorInput.value;
          input.style.backgroundColor = bgColorInput.value;
        });
      }

      bgColorInput.addEventListener('input', applyCustomColors);
      textColorInput.addEventListener('input', applyCustomColors);
      borderColorInput.addEventListener('input', applyCustomColors);
    });
  </script>
</body>
</html>
